// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
// üé® Pet Pixel Art - Ìé´ SVG ÌîΩÏÖÄÏïÑÌä∏ Î†åÎçîÎßÅ
// ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
//
// Í∞Å Ìé´ Ï¢Ö + ÏßÑÌôî Îã®Í≥ÑÎ≥Ñ ÌîΩÏÖÄÏïÑÌä∏Î•º Ï†úÍ≥µÌï©ÎãàÎã§.
// ÏßÑÌôîÌï†ÏàòÎ°ù ÎîîÌÖåÏùºÏù¥ Ï∂îÍ∞ÄÎê©ÎãàÎã§.

import { PetSpecies } from './pet-species';

interface PixelArtData {
  grid: number[][];
  palette: Record<number, string>;
}

// ‚îÄ‚îÄ Ìé´Î≥Ñ ÌîΩÏÖÄÏïÑÌä∏ (ÏßÑÌôî Îã®Í≥Ñ 0~4) ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ

/** Ïïå (Î™®Îì† Ìé´ Í≥µÌÜµ stage 0) */
const EGG_ART: PixelArtData = {
  grid: [
    [0, 0, 0, 1, 1, 1, 1, 0, 0, 0],
    [0, 0, 1, 2, 2, 2, 2, 1, 0, 0],
    [0, 1, 2, 2, 3, 3, 2, 2, 1, 0],
    [0, 1, 2, 3, 2, 2, 3, 2, 1, 0],
    [1, 2, 2, 2, 2, 2, 2, 2, 2, 1],
    [1, 2, 2, 2, 2, 2, 2, 2, 2, 1],
    [1, 2, 4, 2, 2, 2, 4, 2, 2, 1],
    [0, 1, 2, 2, 2, 2, 2, 2, 1, 0],
    [0, 1, 2, 2, 4, 4, 2, 2, 1, 0],
    [0, 0, 1, 2, 2, 2, 2, 1, 0, 0],
    [0, 0, 0, 1, 1, 1, 1, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
  ],
  palette: {
    1: '#3a3a3a',
    2: '#f5f5dc',
    3: '#ffffff',
    4: '#d4af37',
  },
};

// üê≤ TypeScriptodon (ÎìúÎûòÍ≥§) Îã®Í≥ÑÎ≥Ñ
const TYPESCRIPTODON_ARTS: Record<number, PixelArtData> = {
  1: { // ÏïÑÍ∏∞ ÎìúÎûòÍ≥§
    grid: [
      [0, 0, 0, 1, 0, 0, 1, 0, 0, 0],
      [0, 0, 1, 2, 1, 1, 2, 1, 0, 0],
      [0, 1, 2, 2, 2, 2, 2, 2, 1, 0],
      [0, 1, 2, 3, 2, 2, 3, 2, 1, 0],
      [0, 1, 2, 2, 2, 2, 2, 2, 1, 0],
      [0, 0, 1, 2, 4, 4, 2, 1, 0, 0],
      [0, 0, 0, 1, 2, 2, 1, 0, 0, 0],
      [0, 0, 1, 5, 5, 5, 5, 1, 0, 0],
      [0, 1, 5, 5, 5, 5, 5, 5, 1, 0],
      [0, 0, 1, 5, 5, 5, 5, 1, 0, 0],
      [0, 0, 1, 0, 0, 0, 0, 1, 0, 0],
      [0, 0, 0, 0, 0, 0, 0, 0, 0, 6],
    ],
    palette: {
      1: '#1a1a2e',
      2: '#4a90d9',
      3: '#ff4444',
      4: '#f8f8f8',
      5: '#3178c6',
      6: '#4a90d9', // Íº¨Î¶¨
    },
  },
  2: { // Ï≤≠ÏÜåÎÖÑ ÎìúÎûòÍ≥§
    grid: [
      [0, 0, 1, 0, 0, 0, 0, 1, 0, 0],
      [0, 1, 2, 1, 0, 0, 1, 2, 1, 0],
      [1, 2, 2, 2, 1, 1, 2, 2, 2, 1],
      [1, 2, 3, 2, 2, 2, 2, 3, 2, 1],
      [1, 2, 2, 2, 2, 2, 2, 2, 2, 1],
      [0, 1, 2, 2, 4, 4, 2, 2, 1, 0],
      [0, 0, 1, 2, 2, 2, 2, 1, 0, 0],
      [6, 1, 5, 5, 5, 5, 5, 5, 1, 0],
      [0, 1, 5, 7, 5, 5, 7, 5, 1, 6],
      [0, 1, 5, 5, 5, 5, 5, 5, 1, 0],
      [0, 0, 1, 1, 0, 0, 1, 1, 0, 0],
      [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    ],
    palette: {
      1: '#1a1a2e',
      2: '#4a90d9',
      3: '#ff4444',
      4: '#f8f8f8',
      5: '#3178c6',
      6: '#4a90d9', // ÎÇ†Í∞ú
      7: '#ffd700', // Î≤àÍ∞ú Î¨¥Îä¨
    },
  },
  3: { // ÏÑ±Ï≤¥ ÎìúÎûòÍ≥§
    grid: [
      [0, 1, 1, 0, 0, 0, 0, 1, 1, 0],
      [1, 2, 2, 1, 0, 0, 1, 2, 2, 1],
      [1, 2, 2, 2, 1, 1, 2, 2, 2, 1],
      [0, 1, 2, 3, 2, 2, 3, 2, 1, 0],
      [0, 1, 2, 2, 2, 2, 2, 2, 1, 0],
      [6, 0, 1, 4, 4, 4, 4, 1, 0, 6],
      [6, 6, 0, 1, 2, 2, 1, 0, 6, 6],
      [0, 6, 1, 5, 5, 5, 5, 1, 6, 0],
      [0, 0, 1, 5, 7, 7, 5, 1, 0, 0],
      [0, 0, 1, 5, 5, 5, 5, 1, 0, 0],
      [0, 0, 1, 1, 0, 0, 1, 1, 0, 0],
      [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    ],
    palette: {
      1: '#1a1a2e',
      2: '#3178c6',
      3: '#ff2222',
      4: '#ffd700', // Î∂àÍΩÉ
      5: '#235a97',
      6: '#4a90d9', // ÎÇ†Í∞ú
      7: '#ffd700', // Î≤àÍ∞ú Î¨¥Îä¨
    },
  },
  4: { // Ï†ÑÏÑ§ ÎìúÎûòÍ≥§ (ÏôïÍ¥Ä + ÏïÑÏö∞Îùº)
    grid: [
      [0, 0, 8, 0, 8, 8, 0, 8, 0, 0],
      [0, 1, 8, 1, 8, 8, 1, 8, 1, 0],
      [1, 2, 2, 2, 1, 1, 2, 2, 2, 1],
      [1, 2, 3, 2, 2, 2, 2, 3, 2, 1],
      [0, 1, 2, 2, 2, 2, 2, 2, 1, 0],
      [6, 0, 1, 4, 4, 4, 4, 1, 0, 6],
      [6, 6, 0, 1, 2, 2, 1, 0, 6, 6],
      [0, 6, 1, 5, 7, 7, 5, 1, 6, 0],
      [0, 0, 1, 5, 5, 5, 5, 1, 0, 0],
      [0, 0, 1, 5, 7, 7, 5, 1, 0, 0],
      [0, 0, 0, 1, 1, 1, 1, 0, 0, 0],
      [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    ],
    palette: {
      1: '#1a1a2e',
      2: '#3178c6',
      3: '#ff0000',
      4: '#ff6600', // Í∞ïÎ†•Ìïú Î∂àÍΩÉ
      5: '#235a97',
      6: '#4a90d9', // ÌÅ∞ ÎÇ†Í∞ú
      7: '#ffd700', // Î≤àÍ∞ú + Î¨∏Ïñë
      8: '#ffd700', // ÏôïÍ¥Ä
    },
  },
};

// üêç Pythonix (ÌîºÎãâÏä§Î±Ä)
const PYTHONIX_ARTS: Record<number, PixelArtData> = {
  1: {
    grid: [
      [0, 0, 0, 0, 1, 1, 0, 0, 0, 0],
      [0, 0, 0, 1, 2, 2, 1, 0, 0, 0],
      [0, 0, 1, 2, 2, 2, 2, 1, 0, 0],
      [0, 0, 1, 3, 2, 2, 3, 1, 0, 0],
      [0, 0, 1, 2, 4, 2, 2, 1, 0, 0],
      [0, 0, 0, 1, 2, 2, 1, 0, 0, 0],
      [0, 0, 0, 0, 1, 1, 0, 0, 0, 0],
      [0, 0, 0, 1, 2, 2, 1, 0, 0, 0],
      [0, 0, 1, 2, 2, 2, 2, 1, 0, 0],
      [0, 1, 2, 2, 2, 2, 2, 2, 1, 0],
      [1, 2, 2, 2, 2, 2, 2, 2, 2, 1],
      [0, 1, 1, 1, 1, 1, 1, 1, 1, 0],
    ],
    palette: {
      1: '#1a1a1a',
      2: '#3572A5',
      3: '#ffcc00',
      4: '#ff6b6b',
    },
  },
  2: {
    grid: [
      [0, 0, 0, 5, 1, 1, 5, 0, 0, 0],
      [0, 0, 1, 2, 2, 2, 2, 1, 0, 0],
      [0, 1, 2, 2, 2, 2, 2, 2, 1, 0],
      [0, 1, 3, 2, 2, 2, 3, 2, 1, 0],
      [0, 1, 2, 2, 4, 4, 2, 2, 1, 0],
      [0, 0, 1, 2, 2, 2, 2, 1, 0, 0],
      [0, 0, 0, 1, 2, 2, 1, 0, 0, 0],
      [0, 0, 1, 2, 5, 5, 2, 1, 0, 0],
      [0, 1, 2, 2, 2, 2, 2, 2, 1, 0],
      [1, 2, 2, 5, 2, 2, 5, 2, 2, 1],
      [1, 2, 2, 2, 2, 2, 2, 2, 2, 1],
      [0, 1, 1, 1, 1, 1, 1, 1, 1, 0],
    ],
    palette: {
      1: '#1a1a1a',
      2: '#3572A5',
      3: '#ffcc00',
      4: '#ff6b6b',
      5: '#ff8c00', // Î∂àÍΩÉ Î¨¥Îä¨
    },
  },
  3: {
    grid: [
      [5, 0, 0, 5, 1, 1, 5, 0, 0, 5],
      [0, 5, 1, 2, 2, 2, 2, 1, 5, 0],
      [0, 1, 2, 6, 2, 2, 6, 2, 1, 0],
      [0, 1, 3, 2, 2, 2, 2, 3, 1, 0],
      [0, 1, 2, 2, 4, 4, 2, 2, 1, 0],
      [5, 0, 1, 2, 2, 2, 2, 1, 0, 5],
      [0, 0, 0, 1, 2, 2, 1, 0, 0, 0],
      [0, 0, 1, 5, 5, 5, 5, 1, 0, 0],
      [0, 1, 5, 2, 5, 5, 2, 5, 1, 0],
      [1, 5, 2, 5, 2, 2, 5, 2, 5, 1],
      [1, 2, 2, 2, 2, 2, 2, 2, 2, 1],
      [0, 1, 1, 1, 1, 1, 1, 1, 1, 0],
    ],
    palette: {
      1: '#1a1a1a',
      2: '#3572A5',
      3: '#ffcc00',
      4: '#ff6b6b',
      5: '#ff4500', // Î∂àÍΩÉ
      6: '#ffd700', // Îàà
    },
  },
  4: {
    grid: [
      [5, 5, 7, 5, 7, 7, 5, 7, 5, 5],
      [5, 7, 1, 2, 2, 2, 2, 1, 7, 5],
      [0, 1, 2, 6, 2, 2, 6, 2, 1, 0],
      [0, 1, 3, 2, 2, 2, 2, 3, 1, 0],
      [0, 1, 2, 2, 4, 4, 2, 2, 1, 0],
      [5, 0, 1, 2, 2, 2, 2, 1, 0, 5],
      [5, 5, 0, 1, 2, 2, 1, 0, 5, 5],
      [0, 5, 1, 5, 5, 5, 5, 1, 5, 0],
      [0, 1, 5, 7, 5, 5, 7, 5, 1, 0],
      [1, 5, 5, 5, 5, 5, 5, 5, 5, 1],
      [1, 2, 5, 5, 5, 5, 5, 5, 2, 1],
      [0, 1, 1, 1, 1, 1, 1, 1, 1, 0],
    ],
    palette: {
      1: '#1a1a1a',
      2: '#3572A5',
      3: '#ffcc00',
      4: '#ff6b6b',
      5: '#ff4500',
      6: '#ffd700',
      7: '#ffd700', // ÏôïÍ¥Ä/ÏïÑÏö∞Îùº
    },
  },
};

// üêøÔ∏è JavaScripmunk (Îã§ÎûåÏ•ê)
const JAVASCRIPMUNK_ARTS: Record<number, PixelArtData> = {
  1: {
    grid: [
      [0, 0, 1, 0, 0, 0, 1, 0, 0, 0],
      [0, 1, 2, 1, 0, 1, 2, 1, 0, 0],
      [0, 1, 2, 2, 1, 2, 2, 1, 0, 0],
      [1, 2, 3, 2, 2, 2, 3, 2, 1, 0],
      [1, 2, 2, 2, 2, 2, 2, 2, 1, 0],
      [1, 2, 2, 2, 4, 2, 2, 2, 1, 0],
      [0, 1, 2, 2, 2, 2, 2, 1, 0, 0],
      [0, 0, 1, 5, 5, 5, 1, 0, 0, 0],
      [0, 0, 1, 5, 5, 5, 1, 0, 0, 0],
      [0, 0, 0, 1, 0, 1, 0, 0, 0, 6],
      [0, 0, 0, 0, 0, 0, 0, 0, 6, 6],
      [0, 0, 0, 0, 0, 0, 0, 6, 6, 0],
    ],
    palette: {
      1: '#1a1a1a',
      2: '#d4a574',
      3: '#2d2d2d',
      4: '#ff9999',
      5: '#f1e05a',
      6: '#c4915e',
    },
  },
  2: {
    grid: [
      [0, 0, 1, 0, 0, 0, 1, 0, 0, 0],
      [0, 1, 2, 1, 0, 1, 2, 1, 0, 0],
      [0, 1, 2, 2, 1, 2, 2, 1, 0, 0],
      [1, 2, 3, 2, 2, 2, 3, 2, 1, 0],
      [1, 2, 2, 2, 2, 2, 2, 2, 1, 0],
      [1, 2, 2, 2, 4, 2, 2, 2, 1, 0],
      [0, 1, 2, 2, 2, 2, 2, 1, 0, 0],
      [7, 0, 1, 5, 5, 5, 1, 0, 7, 0],
      [0, 0, 1, 5, 5, 5, 1, 0, 0, 0],
      [0, 0, 0, 1, 0, 1, 0, 0, 0, 6],
      [0, 0, 0, 0, 0, 0, 0, 0, 6, 6],
      [0, 0, 0, 0, 0, 0, 0, 6, 6, 0],
    ],
    palette: {
      1: '#1a1a1a',
      2: '#d4a574',
      3: '#2d2d2d',
      4: '#ff9999',
      5: '#f1e05a',
      6: '#c4915e',
      7: '#e0c060', // Î∞îÎûå Ïù¥ÌéôÌä∏
    },
  },
  3: {
    grid: [
      [0, 0, 1, 0, 0, 0, 1, 0, 0, 0],
      [0, 1, 2, 1, 7, 1, 2, 1, 0, 0],
      [0, 1, 2, 2, 1, 2, 2, 1, 0, 0],
      [1, 2, 3, 2, 2, 2, 3, 2, 1, 0],
      [1, 2, 2, 2, 2, 2, 2, 2, 1, 0],
      [1, 2, 2, 2, 4, 2, 2, 2, 1, 0],
      [7, 1, 2, 2, 2, 2, 2, 1, 7, 0],
      [7, 7, 1, 5, 5, 5, 1, 7, 7, 0],
      [0, 7, 1, 5, 8, 5, 1, 7, 0, 0],
      [0, 0, 0, 1, 0, 1, 0, 0, 6, 6],
      [0, 0, 0, 0, 0, 0, 0, 6, 6, 6],
      [0, 0, 0, 0, 0, 0, 6, 6, 6, 0],
    ],
    palette: {
      1: '#1a1a1a',
      2: '#d4a574',
      3: '#2d2d2d',
      4: '#ff9999',
      5: '#f1e05a',
      6: '#c4915e',
      7: '#87ceeb', // Î∞îÎûå Ïù¥ÌéôÌä∏
      8: '#ffd700', // JS Ïã¨Î≥º
    },
  },
  4: {
    grid: [
      [0, 8, 1, 8, 0, 8, 1, 8, 0, 0],
      [0, 1, 2, 1, 7, 1, 2, 1, 0, 0],
      [0, 1, 2, 2, 1, 2, 2, 1, 0, 0],
      [1, 2, 3, 2, 2, 2, 3, 2, 1, 0],
      [1, 2, 2, 2, 2, 2, 2, 2, 1, 0],
      [1, 2, 2, 2, 4, 2, 2, 2, 1, 0],
      [7, 1, 2, 2, 2, 2, 2, 1, 7, 0],
      [7, 7, 1, 5, 5, 5, 1, 7, 7, 0],
      [0, 7, 1, 5, 8, 5, 1, 7, 0, 0],
      [0, 0, 0, 1, 0, 1, 0, 0, 6, 6],
      [0, 0, 0, 0, 0, 0, 0, 6, 6, 6],
      [0, 0, 0, 0, 0, 0, 6, 6, 6, 0],
    ],
    palette: {
      1: '#1a1a1a',
      2: '#d4a574',
      3: '#2d2d2d',
      4: '#ff9999',
      5: '#f1e05a',
      6: '#c4915e',
      7: '#87ceeb',
      8: '#ffd700', // ÏôïÍ¥Ä
    },
  },
};

// ‚îÄ‚îÄ Í∏∞Î≥∏ Ìé´ (Codemander) ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ

const CODEMANDER_ARTS: Record<number, PixelArtData> = {
  1: {
    grid: [
      [0, 0, 0, 1, 1, 1, 1, 0, 0, 0],
      [0, 0, 1, 2, 2, 2, 2, 1, 0, 0],
      [0, 1, 2, 2, 2, 2, 2, 2, 1, 0],
      [0, 1, 2, 3, 2, 2, 3, 2, 1, 0],
      [0, 1, 2, 2, 2, 2, 2, 2, 1, 0],
      [0, 0, 1, 2, 4, 4, 2, 1, 0, 0],
      [0, 0, 0, 1, 2, 2, 1, 0, 0, 0],
      [0, 0, 1, 5, 5, 5, 5, 1, 0, 0],
      [0, 1, 5, 5, 5, 5, 5, 5, 1, 0],
      [0, 0, 1, 5, 5, 5, 5, 1, 0, 0],
      [0, 0, 1, 1, 0, 0, 1, 1, 0, 0],
      [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    ],
    palette: {
      1: '#1a1a1a',
      2: '#F5CBA7',
      3: '#2d2d2d',
      4: '#ff9999',
      5: '#6C63FF',
    },
  },
  2: {
    grid: [
      [0, 0, 0, 1, 1, 1, 1, 0, 0, 0],
      [0, 0, 1, 2, 2, 2, 2, 1, 0, 0],
      [0, 1, 2, 2, 2, 2, 2, 2, 1, 0],
      [0, 1, 2, 3, 2, 2, 3, 2, 1, 0],
      [0, 1, 2, 2, 2, 2, 2, 2, 1, 0],
      [0, 0, 1, 2, 4, 4, 2, 1, 0, 0],
      [0, 0, 0, 1, 2, 2, 1, 0, 0, 0],
      [6, 0, 1, 5, 5, 5, 5, 1, 0, 6],
      [0, 1, 5, 5, 7, 7, 5, 5, 1, 0],
      [0, 0, 1, 5, 5, 5, 5, 1, 0, 0],
      [0, 0, 1, 1, 0, 0, 1, 1, 0, 0],
      [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    ],
    palette: {
      1: '#1a1a1a',
      2: '#F5CBA7',
      3: '#2d2d2d',
      4: '#ff9999',
      5: '#6C63FF',
      6: '#8888ff', // Ïù¥ÌéôÌä∏
      7: '#ffd700', // Ïã¨Î≥º
    },
  },
  3: {
    grid: [
      [0, 0, 0, 1, 1, 1, 1, 0, 0, 0],
      [0, 0, 1, 2, 2, 2, 2, 1, 0, 0],
      [0, 1, 2, 2, 2, 2, 2, 2, 1, 0],
      [0, 1, 2, 3, 2, 2, 3, 2, 1, 0],
      [0, 1, 2, 2, 2, 2, 2, 2, 1, 0],
      [0, 0, 1, 2, 4, 4, 2, 1, 0, 0],
      [6, 0, 0, 1, 2, 2, 1, 0, 0, 6],
      [6, 6, 1, 5, 5, 5, 5, 1, 6, 6],
      [0, 1, 5, 5, 7, 7, 5, 5, 1, 0],
      [0, 1, 5, 7, 5, 5, 7, 5, 1, 0],
      [0, 0, 1, 1, 0, 0, 1, 1, 0, 0],
      [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    ],
    palette: {
      1: '#1a1a1a',
      2: '#F5CBA7',
      3: '#2d2d2d',
      4: '#ff9999',
      5: '#6C63FF',
      6: '#8888ff',
      7: '#ffd700',
    },
  },
  4: {
    grid: [
      [0, 0, 8, 0, 8, 8, 0, 8, 0, 0],
      [0, 0, 1, 2, 2, 2, 2, 1, 0, 0],
      [0, 1, 2, 2, 2, 2, 2, 2, 1, 0],
      [0, 1, 2, 3, 2, 2, 3, 2, 1, 0],
      [0, 1, 2, 2, 2, 2, 2, 2, 1, 0],
      [0, 0, 1, 2, 4, 4, 2, 1, 0, 0],
      [6, 6, 0, 1, 2, 2, 1, 0, 6, 6],
      [6, 6, 1, 5, 5, 5, 5, 1, 6, 6],
      [0, 1, 5, 7, 7, 7, 7, 5, 1, 0],
      [0, 1, 5, 7, 5, 5, 7, 5, 1, 0],
      [0, 0, 1, 1, 0, 0, 1, 1, 0, 0],
      [0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    ],
    palette: {
      1: '#1a1a1a',
      2: '#F5CBA7',
      3: '#2d2d2d',
      4: '#ff9999',
      5: '#6C63FF',
      6: '#8888ff',
      7: '#ffd700',
      8: '#ffd700', // ÏôïÍ¥Ä
    },
  },
};

// ‚îÄ‚îÄ Ï¢ÖÎ≥Ñ ÏïÑÌä∏ Îß§Ìïë ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ

const SPECIES_ART_MAP: Record<string, Record<number, PixelArtData>> = {
  typescriptodon: TYPESCRIPTODON_ARTS,
  pythonix: PYTHONIX_ARTS,
  javascripmunk: JAVASCRIPMUNK_ARTS,
  // Îã§Î•∏ Ï¢ÖÎì§ÏùÄ Í∏∞Î≥∏ ÏïÑÌä∏Î°ú Ìè¥Î∞±
  javantine: CODEMANDER_ARTS,
  gopher: CODEMANDER_ARTS,
  rustacean: CODEMANDER_ARTS,
  cplusaur: CODEMANDER_ARTS,
  kotlini: CODEMANDER_ARTS,
  swiftern: CODEMANDER_ARTS,
  rubeon: CODEMANDER_ARTS,
  codemander: CODEMANDER_ARTS,
};

/**
 * Ìé´ Ï¢ÖÎ•òÏôÄ ÏßÑÌôî Îã®Í≥ÑÏóê ÎßûÎäî ÌîΩÏÖÄÏïÑÌä∏ SVGÎ•º Î†åÎçîÎßÅÌï©ÎãàÎã§.
 */
export function renderPetPixelArt(
  species: PetSpecies,
  stage: number,
  x: number,
  y: number,
  width: number,
  height: number,
  options: {
    animate?: boolean;
    glowColor?: string;
    showAura?: boolean;
  } = {}
): string {
  // ÏßÑÌôî 0Îã®Í≥Ñ = Ïïå
  const artData = stage === 0
    ? EGG_ART
    : (SPECIES_ART_MAP[species.id]?.[stage] || CODEMANDER_ARTS[stage] || CODEMANDER_ARTS[1]);

  const rows = artData.grid.length;
  const cols = artData.grid[0].length;
  const pixelW = width / cols;
  const pixelH = height / rows;

  let svg = '';

  // Ï†ÑÏÑ§ ÏïÑÏö∞Îùº Ìö®Í≥º
  if (options.showAura && stage >= 4) {
    svg += `<circle cx="${x + width / 2}" cy="${y + height / 2}" r="${Math.max(width, height) / 1.6}" fill="none" stroke="${options.glowColor || species.color}" stroke-width="2" opacity="0.3">
      <animate attributeName="r" values="${Math.max(width, height) / 1.8};${Math.max(width, height) / 1.4};${Math.max(width, height) / 1.8}" dur="2s" repeatCount="indefinite"/>
      <animate attributeName="opacity" values="0.3;0.1;0.3" dur="2s" repeatCount="indefinite"/>
    </circle>`;
  }

  // Í∏ÄÎ°úÏö∞ Î∞∞Í≤Ω
  if (options.glowColor) {
    svg += `<rect x="${x - 4}" y="${y - 4}" width="${width + 8}" height="${height + 8}" rx="8" ry="8" fill="${options.glowColor}" opacity="0.1">`;
    if (options.animate) {
      svg += `<animate attributeName="opacity" values="0.05;0.15;0.05" dur="2.5s" repeatCount="indefinite"/>`;
    }
    svg += `</rect>`;
  }

  // ÌîΩÏÖÄ Î†åÎçîÎßÅ
  for (let row = 0; row < rows; row++) {
    for (let col = 0; col < cols; col++) {
      const val = artData.grid[row][col];
      if (val === 0) continue;

      const color = artData.palette[val] || '#888888';
      const px = x + col * pixelW;
      const py = y + row * pixelH;

      svg += `<rect x="${px.toFixed(1)}" y="${py.toFixed(1)}" width="${(pixelW + 0.5).toFixed(1)}" height="${(pixelH + 0.5).toFixed(1)}" fill="${color}"/>`;
    }
  }

  // Ìò∏Ìù° + Î∞îÏö¥Ïä§ Ïï†ÎãàÎ©îÏù¥ÏÖò
  if (options.animate) {
    svg = `<g>
      <animateTransform attributeName="transform" type="translate" values="0,0;0,-3;0,0" dur="2.5s" repeatCount="indefinite"/>
      ${svg}
    </g>`;
  }

  return svg;
}
